---
title: "เถียงเรื่อง Technical Design กันไม่จบซักที ทำไงดี?"
date: 2020-06-11T12:04:02+07:00
lastmod: 2020-06-11T12:04:02+07:00
draft: true
tags: ["conflict", "technical", "meeting", "design"]
categories: ["Technical Leadership"]
---

![Photo by rawpixel on Unsplash](/img/covers/interview-02.png)

เคยตกอยู่ในสถานการณ์ที่คนในห้องประชุมเถียงเรื่องเดียวกันติดต่อเป็นระยะเวลา 30 นาทีแล้วไม่ไปไหนไหมครับ?

ส่วนใหญ่ที่ผมเจอ มักจะเป็นเรื่องของ Technical Design ว่าจะไปในทิศทางไหนดี ซึ่งเราก็รู้กันว่าการ Design มันเป็นเรื่องของการ Trade-off หลายๆครั้งมันยากมากที่จะตอบว่าแบบไหนดีกว่า

การใช้เวลาสัก 15 นาทีคุยกันเรื่องพวกนี้ผมว่าโอเค โดยเฉพาะการตัดสินใจที่มีผลกระทบในระยะยาว แต่บางครั้ง เราก็จะเจอสถานการที่คนสองคน (หรือทีมแตกเป็นสองฝ่าย) และเถียงกันไม่จบเสียที วนกลับมาประเด็นเดิมๆ แย้งกันไปมา ไม่ไปไหน

ยิ่งถ้าประชุมก่อนพักเที่ยง ผมจะหิวข้าว ไปกินข้าวสายนี่ผมถือว่าไม่โอเคเลย เรื่องกินเรื่องใหญ่

วันนี้ผมมีวิธีมานำเสนอ ไม่รับประกันว่าได้ผลตลอด แต่เท่าที่ใช้มานี่ได้ผลดีมาก ช่วยให้ผมไม่ต้องไปกินข้าวสายได้หลายครั้ง

<!--more-->

# กฏแห่งการเถียง

เริ่มต้นเลย ผมขอเสนอกฏแห่งการเถียง 3 ข้อ

1. เวลาเราที่เถียงกับคนอื่น เราจะไม่สามารถตั้งใจฟังเขาจริงได้อย่างถี่ถ้วน แค่อีกฝ่ายเริ่มพูด เราก็จะมีเสียงในหัวมาพูดแทรกเพื่อขัดเขาแล้ว
2. เราจะรู้สึกไม่โอเคถ้า**รู้สึก**ว่าอีกฝ่ายไม่ฟังเรา
3. เรามักจะผูกอีโก้ของตัวเองไว้กับความเห็นหรือไอเดียของตัวเอง เวลาที่มีคนไม่เห็นด้วย เราจึงรู้สึกกระเทือนอีโก้ของเรา

เรามักจะคิดว่าโปรแกรมเมอร์นั้นใช้ตรรกกะในการถกเถียง แต่เชื่อผมเถอะครับ ไม่มีใครหนีความเป็นคนพ้นหรอก เวลาผมเถียงกับคนอื่น ผมก็ไม่ค่อยฟังเค้าเหมือนกัน ยิ่งเรามีประสบการณ์มากเท่าไร อีโก้เราก็โตตามไปด้วย

> "We are not logical animals with emotions. We are emotional animals that have some logics" -- NotAboutCode 2020

เวลาคนเถียงกัน ผมจะพิจารณาก่อนว่าประเด็นนี้คุ้มค่าที่จะเถียงไหม ถ้าไม่ ผมจะถามทีมว่า

> Do you feel that this decision is important to spend more than 10 minutes of every team members?

> ก่อนจะถกกันในประเด็นนี้ เรารู้สึกว่าเรื่องนี้สำคัญพอที่จะใช้เวลาเกิน 10 นาทีรึเปล่าครับ?


ถ้าประเด็นไม่สำคัญจริงๆ ส่วนใหญ่ก็จะตกไป สิ่งที่สำคัญคือต้องถามคำถามนี้ตั้งแต่เนิ่นๆ อย่าปล่อยให้คนเถียงกันลุกลามจนเอาอีโก้มาผูกไว้กับปัญหาเล็กๆ จะทำให้เสียเวลาไปกับคนทั้งทีม

ในบางกรณี คนบางคนจะยืนยันอย่างหนักแน่ว่ามันสำคัญมาก อันนี้ก็ทำอะไรไม่ได้ ปล่อยให้เถียงกันต่อ

ปกติเวลาคนเริ่มเถียงกัน ผมจะหยุดพูด แล้วก็เริ่มจด ยกตัวอย่างเช่น

# ตัวอย่างการถกเถียงกัน

ทีมที่เถียงกันว่าจะขึ้นระบบใหม่เป็น Microservices ดี หรือ ทำแบบ Monolith แต่แยก Package ให้ชัดเจน

ฝั่ง Microservices บอกว่าวิธีนี้มีข้อดีหลายอย่าง เช่น

1. เราสามารถเพิ่มเซอร์เวอร์ในแต่ละเซอร์วิซแยกกันได้ หากมีเซอร์วิสไหนเป็นคอขวด
2. แต่ละเซอร์วิสใช้ภาษาหรือเฟรมเวิร์คอะไรก็ได้
3. เราสามารถแบ่งทีมดูแลแต่ละเซอร์วิสได้ ทำให้เวลา release ไม่ต้องรอข้ามทีม

ฝั่ง Monolith ก็แย้งกลับมาว่า

1. หากเรามีระบบเดียว พวก Infrastructure สำหรับการทำ CI/CD ก็มีอันเดียว Monitoring tools ทั้งหมดก็อยู่ที่เดียว เซ็ตอัพน้อยกว่า ดูแลง่ายกว่า
2. ถึงจะเลือกใช้ภาษาอะไรก็ได้ แต่เราอยากจะทำแบบนั้นเหรอ? คนต้องเรียนมากกว่าหนึ่งภาษาและเฟรมเวิร์คเพื่อจะได้ดูแลได้ทั้งสองเซอร์วิส
3. พวกโค้ดที่เป็น Common (พวก Log และ cross-cutting logic ต่างๆ) จะต้องเขียนซ้ำ ถ้าไม่เขียนซ้ำ เราก็ต้องมี Git Repository แยกแล้วทำ Package management อีก ใช้เวลาเพิ่ม
4. เวลารัน End-to-End Test ก็จะซับซ้อนขึ้น แล้วจะ Integrate Frontend กันยังไง

ฝั่ง Microservices ก็ย้อนกลับมาอีก

1. Infrastructure ถ้าเราเขียนไว้เป็นโค้ดอย่างดี นำมาใช้ซ้ำได้ ไม่ได้ยากเลย
2. แต่ในบางกรณี เราก็อยากใช้ภาษาที่มีเร็วกว่า เช่น ส่วนที่เป็น bottleneck อาจจะใช้ Go แทน Python
3. พวกโค้ดที่ Common ก็ควรเอาเข้า Repository แยกกันอยู่แล้วเปล่า Single responsibility ไง รู้จักเปล่า  Package management ก็ทำสิ ควรทำอยู่แล้ว
4. อ้อ พึ่งนึกออก Blast radius เล็กกว่าด้วยนะ Security ทีมเริ่มจะชอบ
5. เนี่ย ยังไม่รวมว่าโค้ดจะไม่พันกันยุ่งเป็นสปาเก็ตตี้อีก

สังเกตว่าจะเริ่มมีอารมณ์และแตกเรื่องแล้ว

(อย่าซีเรียสมากนะครับเรื่องเหตุผลบางอาจจะฟังไม่ขึ้น อันนี้เป็นตัวอย่าง)

# จัดการสถานการณ์นี้อย่างไรดี?

เวลาเถียงกันจริงๆ Structure จะไม่เป็นแบบนี้นะครับ มันจะเละเทะนัวเนียไปหมด คิดอะไรเข้าข้างตัวเองได้ก็ยัดเข้าไป รีบพูดกันเพราะกลัวลืม

เวลามีเถียงกันแบบนี้ เราต้องนิ่ง ตั้งใจฟัง และจดเป็นประเด็นแบบข้างบนครับ ถ้าตัวเราเองมีความเห็น อย่าพึ่งไปร่วมวงด้วย ถ้าเราคิดว่ามีเหตุผลที่ดี อย่าพึ่งพูด จดไปก่อน

เพราะถ้าเราเริ่มเข้าวงด้วย เราจะตั้งใจฟังได้น้อยลง กลับไปที่กฏแห่งการเถียงข้อแรก

> กฏแห่งการเถียง#1 เวลาเราที่เถียงกับคนอื่น เราจะไม่สามารถตั้งใจฟังเขาจริงได้อย่างถี่ถ้วน แค่อีกฝ่ายเริ่มพูด เราก็จะมีเสียงในหัวมาพูดแทรกเพื่อขัดเขาแล้ว


เราจดไปเรื่อยๆ พอถึงจุดที่อิ่มตัว เริ่มไม่มีประเด็นใหม่ๆ (หรือเริ่มเหนื่อยกันแล้ว) จังหวะนี้แหละ เปิดเลย

> "I like all the points that everyone brought up. There are many points that I didn't think of before. Like what Suthee said that End-to-end Testing would be more complex if we have to assemble many services together. Or Aruj's point that we could release each service separately and deliver new features to customers faster."
>
> "ผมชอบประเด็นที่ทุกคนยกมามากเลย มีหลายเรื่องที่ผมมองข้ามไป อย่างเช่นที่สุธีบอกว่าการเขียน End-to-end Testing อาจจะยุ่งยากขึ้นถ้าเรามีหลาย Service หรือที่อรุชมองว่าเราสามารถ Release แยกกันได้ ทำให้อัพเดตฟีเจอร์ได้เร็ว"

ลองวิเคราะห์ประโยคนี้ดูนะครับ ประโยคนี้อิงกับกฏข้อที่ 2

> กฏแห่งการเถียง#2 เราจะรู้สึกไม่โอเคถ้า**รู้สึก**ว่าอีกฝ่ายไม่ฟังเรา

เราจึงทำการทวน เพื่อให้ทุกฝ่ายใจเย็นลง บอกให้ทุกคนรู้สึกว่า ใครไม่ฟัง ผมฟังอยู่ และผมไม่ได้ฟังธรรมดา ผมจดไว้ด้วย และนั่นนำมาซึ่งขั้นตอนถัดไปครับ

> "I have been taking notes regarding the benefits of both options. I'd like to write them down on the whiteboard so that we won't miss any point."
>
> "ผมพยายามจดประเด็นข้อดีของทั้งสองทางเลือก  ผมอยากจะสรุปลงกระดาน เพื่อเราจะได้เห็นภาพรวม และไม่พลาดประเด็นไหนในการตัดสินใจ"

ถ้ามี Whiteboard ก็เอาที่สรุปไว้ไปเขียนเลย หรือตอนนี้ต้องประชุมออนไลน์ ก็ใช้วิธีแชร์หน้าจอ

ทำให้สั้นๆและอ่านง่ายหน่อย (แนะนำให้ใช้มาร์กเกอร์สีดำ) เช่นกรณีข้างบน ก็สรุปเป็น 2 คอลัมน์ ประมาณนี้

| ข้อดีของ Microservices | ข้อดีของ Monolith |
| :---| :------ |
| เพิ่มเซอร์เวอร์แยกกันได้ |  |
| ใช้ได้หลายภาษา |  |
|  | เขียน End-to-End Testing ง่าย |
|  | แชร์ Common code ง่าย |
| Blast Radius เล็กกว่า |  |
| ... | ... |


ถึงตอนนี้ เราจะทำการลดอารมณ์ทั้งสองฝั่ง ด้วยการให้ทุกคนหยุดพูดแล้วอ่าน

> "Could all of you verify if I miss anything?"
>
> "อยากให้ทุกคนช่วยเช็คด้วย ว่าผมพลาดประเด็นไหนไปรึเปล่า"

ซึ่งถ้าคุณฟังมาดี จดมาดี ไม่มีพลาดหรอกครับ แต่บางคนอาจจะมีประเด็นใหม่โผล่ขึ้นมา เราก็ฟัง แล้วก็จดใส่เข้าไปให้ครบ  อย่าลืมกฏข้อ #2 อาจจะกินเวลาเพิ่มหน่อยอีกไม่กี่นาที แต่คุณต้องทำให้ทุกคนรู้สึกว่าคุณฟังทุกคน เราจดครบทุกประเด็นแล้ว

การเขียนทุกอย่างลงบนกระดาน ให้ทุกคนตรวจสอบกันให้ครบ เป็นการแยกอีโก้ออกจากความเห็นให้ได้มากที่สุด  เพราะกฏข้อ #3 บอกไว้ว่า

> กฏแห่งการเถียง#3 เรามักจะผูกอีโก้ของตัวเองไว้กับความเห็นหรือไอเดียของตัวเอง เวลาที่มีคนไม่เห็นด้วย เราจึงรู้สึกกระเทือนอีโก้ของเรา

ถึงจุดนี้ ทุกคนจะเริ่ม"ฟัง"อย่างจริงจังผ่านการอ่าน ประเด็นที่วิ่งวุ่นในหัวจะได้รับการจัดโครงสร้างชัดเจน ภาพรวมก็จะชัดขึ้น ถ้าโชคดี อาจจะจบประเด็นได้เลย


แต่บางทีก็ยังตัดสินใจไม่ได้ง่ายๆ เพราะข้อดีของแต่ละฝั่งมันเปรียบเทียบกันตรงๆไม่ได้ บางอย่างอาจจะมีน้ำหนักมาก น้ำหนักน้อย แล้วแต่สายตาของแต่ละคน

เราอาจจะมาวิเคราะห์แต่ละหัวข้อกันต่อ ตัวอย่างเช่น ผมใช้หลัก Quantify & Context

Quantify คือพยายามทำทุกอย่างให้เป็นตัวเลข เช่น ไอ้เขียน End-to-End Testing ง่ายกว่าเนี่ย มันใช้เวลาเร็วกว่ากี่เปอร์เซ็นต์เมื่อเทียบกับ Microservices หยิบปากกาสีเขียวมา เขียนข้อความเติมลงไป ลากเส้นโยงออกมา ตรงนี้จะทำให้เห็นได้ ว่าทำไมบางคนให้น้ำหนักกับข้อนี้มาก บางคนให้น้อย เพราะการประมาณของแต่ละคนมันต่างกันมาก

Context คือชี้ให้เห็นว่าเรากำลังเอาดีไซน์นี้ใช้กับสถานการณ์ของเรา ไม่ใช่สถานการทั่วๆไป เช่น คิดว่าเราจะมีเซอร์วิสไหนบ้างที่ต้องใช้ Go เพื่อให้ได้ประสิทธิภาพที่ดีขึ้น อย่าลืม Quantify ด้วยว่าเร็วขึ้นซักเท่าไร ถ้าเร็วขึ้นเท่าตัว ยัดเซอร์เวอร์เข้าไปอีกตัวนึงเพื่อนใช้เงินแลกเวลาจะคุ้มไหม เสร็จแล้วเขียนโน้ตแยกออกมาแบบเดียวกันด้วยปากกาสีเขียว

พอไล่ครบหมด ให้ทุกคนอ่านทั้งหมดอีกครั้ง แล้วบอกไปว่า

> We have spent over 30 minutes on this topic. We have 7 people. That is in total 210 minutes or 3.5 hours. To be frank, we could not know which option is better unless we try both of them, which is impossible. Everything we have now is the best estimate we can do at this point. Still, I believe we have covered everything thoroughly, and we can't make better decision even we prolong this discussion. Do you agree with me?
>
> เราคุยกันเรื่องนี้มาเกิน 30 นาทีแล้ว เรามีกัน 7 คน รวมเป็น 210 นาที ผมคิดว่าทั้งสองทางเลือกเป็นทางที่ดี แต่เราไม่มีทางรู้หรอกว่าทางไหนดีที่สุดจนกว่าเราได้ทำจริงๆทั้งสองทาง ซึ่งนั่นเป็นไปไม่ได้ ทุกอย่างเป็นการคาดการณ์  แต่ผมคิดว่าพวกเราได้คิดครอบคลุมกันมากที่สุดแล้ว ต่อให้เราคุยกันนานกว่านี้ เราก็ไม่สามารถทำให้การตัดสินใจดีกว่านี้ได้ ทุกคนเห็นด้วยไหม

จบประโยคนี้ ถ้าไม่มีใครคัดค้าน คุณจะไปทางไหนต่อก็ตามสไตล์เลย

จะโหวตกันก็ได้ (ส่วนตัวผมว่าวิธีนี้ไม่เวิร์ค) ให้คนที่มีประสบการณ์มากสุดตัดสินใจ ให้คนที่ต้องนำโปรเจ็คนี้ตัดสินใจ หรือจะบอกไปว่าคุณขอตัดสินใจ ถ้าทุกคนรู้สึกว่าคุณเป็นกลางพอ

# สรุปส่งท้าย
ผมยกสถานการณ์จำลอง (สร้างจากหัวข้อจริง) ที่คนเถียงกันและไม่สามารถตกลงกันได้ พร้อมยกตัวอย่างวิธีที่ผมเคยใช้ เพื่อไม่ต้องไปกินข้าวสาย

นี่เป็นแค่หนึ่งในวิธีที่จะทำให้การประชุมรวดรัดขึ้นได้โดยเรายังได้ข้อสรุป(ที่น่าจะ)ดีที่สุด อย่าก็อบไปใช้เป้ะๆนะครับ ดึงแนวคิดหลักๆ และนำไปปรับใช้กับสถานการณ์

และอย่าลืมกฏ 3 ข้อ ถึงแต่ละทีมจะมีสถานการณ์ที่แตกต่างกัน แค่ทุกทีมก็ประกอบด้วยคนเหมือนกัน ทุกคนหนีกฏ 3 ข้อนี้ไม่พ้นหรอก แค่เป็นมากเป็นน้อยกันเท่านั้น
